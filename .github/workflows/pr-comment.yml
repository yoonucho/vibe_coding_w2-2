name: PR Auto Comment

on:
  pull_request:
    types: [opened]

jobs:
  pr-comment:
    runs-on: ubuntu-latest

    steps:
      - name: Add PR Comment
        uses: actions/github-script@v7
        with:
          script: |
            const comment = `## π” PR μ²΄ν¬λ¦¬μ¤νΈ

            PRμ„ μƒμ„±ν•΄μ£Όμ…”μ„ κ°μ‚¬ν•©λ‹λ‹¤! λ‹¤μ μ²΄ν¬λ¦¬μ¤νΈλ¥Ό ν™•μΈν•΄μ£Όμ„Έμ”:

            ### β… κΈ°λ³Έ μ²΄ν¬λ¦¬μ¤νΈ
            - [ ] μ½”λ“ μ»¨λ²¤μ…μ„ μ¤€μν–μµλ‹λ‹¤
            - [ ] ν…μ¤νΈ μ½”λ“λ¥Ό μ‘μ„±ν–μµλ‹λ‹¤
            - [ ] λ¨λ“  ν…μ¤νΈκ°€ ν†µκ³Όν•©λ‹λ‹¤
            - [ ] μ½”λ“ λ¦¬λ·° κ°€μ΄λ“λΌμΈμ„ ν™•μΈν–μµλ‹λ‹¤
            - [ ] κ΄€λ ¨ μ΄μκ°€ μλ‹¤λ©΄ μ—°κ²°ν–μµλ‹λ‹¤

            ### π§ ν…μ¤νΈ κ΄€λ ¨
            - [ ] μƒλ΅μ΄ κΈ°λ¥μ— λ€ν• λ‹¨μ„ ν…μ¤νΈλ¥Ό μ¶”κ°€ν–μµλ‹λ‹¤
            - [ ] κΈ°μ΅΄ ν…μ¤νΈκ°€ μ—¬μ „ν ν†µκ³Όν•©λ‹λ‹¤
            - [ ] μ—μ§€ μΌ€μ΄μ¤λ¥Ό κ³ λ ¤ν–μµλ‹λ‹¤

            ### π“ λ¬Έμ„ν™”
            - [ ] API λ³€κ²½μ‚¬ν•­μ΄ μλ‹¤λ©΄ λ¬Έμ„λ¥Ό μ—…λ°μ΄νΈν–μµλ‹λ‹¤
            - [ ] μ£Όμ” λ³€κ²½μ‚¬ν•­μ„ PR μ„¤λ…μ— ν¬ν•¨ν–μµλ‹λ‹¤
            - [ ] λ³µμ΅ν• λ΅μ§μ— μ£Όμ„μ„ μ¶”κ°€ν–μµλ‹λ‹¤

            ### π”„ μ½”λ“ ν’μ§
            - [ ] μ¤‘λ³µ μ½”λ“λ¥Ό μ κ±°ν–μµλ‹λ‹¤
            - [ ] ν•¨μμ™€ λ³€μλ…μ΄ λ…ν™•ν•©λ‹λ‹¤
            - [ ] SOLID μ›μΉ™μ„ κ³ λ ¤ν–μµλ‹λ‹¤

            ---

            π’΅ **λ¦¬λ·° μ”μ²­ μ „μ—**: μ„ μ²΄ν¬λ¦¬μ¤νΈλ¥Ό λ¨λ‘ ν™•μΈν• ν›„ λ¦¬λ·°μ–΄λ¥Ό μ§€μ •ν•΄μ£Όμ„Έμ”.

            π¤– μ΄ λ“κΈ€μ€ μλ™μΌλ΅ μƒμ„±λμ—μµλ‹λ‹¤.`;

            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: comment
            });

  test-status-comment:
    runs-on: ubuntu-latest
    needs: []
    if: always()

    steps:
      - name: Comment test results
        uses: actions/github-script@v7
        with:
          script: |
            const comment = `## π§ ν…μ¤νΈ μ‹¤ν–‰ μ•λ¦Ό

            PRμ— λ€ν• μλ™ ν…μ¤νΈκ°€ μ‹μ‘λμ—μµλ‹λ‹¤!

            ### μ‹¤ν–‰λ  ν…μ¤νΈ
            - β… λ°±μ—”λ“ λ‹¨μ„ ν…μ¤νΈ
            - β… ν”„λ΅ νΈμ—”λ“ ν…μ¤νΈ  
            - β… μ½”λ“ ν’μ§ κ²€μ‚¬ (Lint)
            - β… μ½”λ“ μ»¤λ²„λ¦¬μ§€ κ²€μ‚¬

            ν…μ¤νΈ κ²°κ³Όλ” μ΄ PRμ "Checks" νƒ­μ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
            λ¨λ“  ν…μ¤νΈκ°€ ν†µκ³Όν•΄μ•Ό λ¨Έμ§€κ°€ κ°€λ¥ν•©λ‹λ‹¤.

            ---
            π¤– ν…μ¤νΈ μƒνƒλ” μλ™μΌλ΅ μ—…λ°μ΄νΈλ©λ‹λ‹¤.`;

            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: comment
            });
